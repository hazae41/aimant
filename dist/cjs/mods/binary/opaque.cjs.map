{"version":3,"file":"opaque.cjs","sources":["../../../../src/mods/binary/opaque.ts"],"sourcesContent":["import { Binary } from \"libs/binary.js\"\n\nexport class Opaque {\n  readonly class = Opaque\n\n  constructor(\n    readonly buffer: Buffer\n  ) { }\n\n  size() {\n    return this.buffer.length\n  }\n\n  write(binary: Binary) {\n    binary.write(this.buffer)\n  }\n\n  static read(binary: Binary, length: number) {\n    const buffer = binary.read(length)\n\n    return new this(buffer)\n  }\n}\n\nexport const SizedOpaque = (length: number) => class {\n  readonly class = Opaque\n\n  static size = length\n\n  constructor(\n    readonly buffer: Buffer\n  ) { }\n\n  size() {\n    return length\n  }\n\n  write(binary: Binary) {\n    binary.write(this.buffer)\n  }\n\n  static read(binary: Binary) {\n    const buffer = binary.read(length)\n\n    return new this(buffer)\n  }\n}"],"names":[],"mappings":";;MAEa,MAAM,CAAA;AAGjB,IAAA,WAAA,CACW,MAAc,EAAA;QAAd,IAAM,CAAA,MAAA,GAAN,MAAM,CAAQ;QAHhB,IAAK,CAAA,KAAA,GAAG,MAAM,CAAA;KAIlB;IAEL,IAAI,GAAA;AACF,QAAA,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;KAC1B;AAED,IAAA,KAAK,CAAC,MAAc,EAAA;AAClB,QAAA,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;KAC1B;AAED,IAAA,OAAO,IAAI,CAAC,MAAc,EAAE,MAAc,EAAA;QACxC,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AAElC,QAAA,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,CAAA;KACxB;AACF,CAAA;MAEY,WAAW,GAAG,CAAC,MAAc,KAAK,EAAA,IAAA,EAAA,CAAA,CAAA,OAAA,EAAA,GAAA,MAAA;AAK7C,QAAA,WAAA,CACW,MAAc,EAAA;YAAd,IAAM,CAAA,MAAA,GAAN,MAAM,CAAQ;YALhB,IAAK,CAAA,KAAA,GAAG,MAAM,CAAA;SAMlB;QAEL,IAAI,GAAA;AACF,YAAA,OAAO,MAAM,CAAA;SACd;AAED,QAAA,KAAK,CAAC,MAAc,EAAA;AAClB,YAAA,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;SAC1B;QAED,OAAO,IAAI,CAAC,MAAc,EAAA;YACxB,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;AAElC,YAAA,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,CAAA;SACxB;AACF,KAAA;AAnBQ,IAAA,EAAA,CAAA,IAAI,GAAG,MAAM;;;;;;"}