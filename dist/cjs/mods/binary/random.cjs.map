{"version":3,"file":"random.cjs","sources":["../../../../src/mods/binary/random.ts"],"sourcesContent":["import { Binary } from \"libs/binary.js\"\nimport { generateRandom } from \"libs/random.js\"\n\nexport class Random {\n  readonly class = Random\n\n  constructor(\n    readonly gmt_unix_time: number,\n    readonly random_bytes: Buffer\n  ) { }\n\n  static default() {\n    const gmt_unix_time = ~~(Date.now() / 1000)\n    const random_bytes = generateRandom(28)\n\n    return new this(gmt_unix_time, random_bytes)\n  }\n\n  size() {\n    return 4 + this.random_bytes.length\n  }\n\n  write(binary: Binary) {\n    binary.writeUint32(this.gmt_unix_time)\n    binary.write(this.random_bytes)\n  }\n\n  static read(binary: Binary) {\n    const gmt_unix_time = binary.readUint32()\n    const random_bytes = binary.read(28)\n\n    return new this(gmt_unix_time, random_bytes)\n  }\n}"],"names":["generateRandom"],"mappings":";;;;MAGa,MAAM,CAAA;IAGjB,WACW,CAAA,aAAqB,EACrB,YAAoB,EAAA;QADpB,IAAa,CAAA,aAAA,GAAb,aAAa,CAAQ;QACrB,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAQ;QAJtB,IAAK,CAAA,KAAA,GAAG,MAAM,CAAA;KAKlB;AAEL,IAAA,OAAO,OAAO,GAAA;AACZ,QAAA,MAAM,aAAa,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAA;AAC3C,QAAA,MAAM,YAAY,GAAGA,qBAAc,CAAC,EAAE,CAAC,CAAA;AAEvC,QAAA,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,CAAA;KAC7C;IAED,IAAI,GAAA;AACF,QAAA,OAAO,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAA;KACpC;AAED,IAAA,KAAK,CAAC,MAAc,EAAA;AAClB,QAAA,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAA;AACtC,QAAA,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAA;KAChC;IAED,OAAO,IAAI,CAAC,MAAc,EAAA;AACxB,QAAA,MAAM,aAAa,GAAG,MAAM,CAAC,UAAU,EAAE,CAAA;QACzC,MAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;AAEpC,QAAA,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,CAAA;KAC7C;AACF;;;;"}