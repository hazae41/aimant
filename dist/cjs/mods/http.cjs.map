{"version":3,"file":"http.cjs","sources":["../../../src/mods/http.ts"],"sourcesContent":["import { ClientHello } from \"mods/binary/client_hello.js\"\n\nexport class TlsOverHttp {\n  readonly class = TlsOverHttp\n\n  constructor(\n    readonly info: RequestInfo\n  ) { }\n\n  async fetch(body?: Buffer) {\n    const res = await fetch(this.info, { method: \"POST\", body })\n    this.onData(Buffer.from(await res.arrayBuffer()))\n  }\n\n  async handshake() {\n    const hello = new ClientHello()\n    await this.fetch(hello.export().buffer)\n  }\n\n  private async onData(buffer: Buffer) {\n\n  }\n\n}"],"names":["ClientHello"],"mappings":";;;;;MAEa,WAAW,CAAA;AAGtB,IAAA,WAAA,CACW,IAAiB,EAAA;QAAjB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAa;QAHnB,IAAK,CAAA,KAAA,GAAG,WAAW,CAAA;KAIvB;AAEC,IAAA,KAAK,CAAC,IAAa,EAAA;;AACvB,YAAA,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;AAC5D,YAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,CAAA;SAClD,CAAA,CAAA;AAAA,KAAA;IAEK,SAAS,GAAA;;AACb,YAAA,MAAM,KAAK,GAAG,IAAIA,wBAAW,EAAE,CAAA;YAC/B,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAA;SACxC,CAAA,CAAA;AAAA,KAAA;AAEa,IAAA,MAAM,CAAC,MAAc,EAAA;;SAElC,CAAA,CAAA;AAAA,KAAA;AAEF;;;;"}