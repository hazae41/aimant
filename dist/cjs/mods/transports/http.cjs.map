{"version":3,"file":"http.cjs","sources":["../../../../src/mods/transports/http.ts"],"sourcesContent":["import { Tls } from \"mods/tls.js\"\n\nexport class TlsOverHttp extends Tls {\n  readonly class = TlsOverHttp\n\n  constructor(\n    readonly info: RequestInfo\n  ) {\n    super()\n  }\n\n  private async fetch(body?: Buffer) {\n    const res = await fetch(this.info, { method: \"POST\", body })\n    this.onData(Buffer.from(await res.arrayBuffer()))\n  }\n\n  protected async sendRaw(buffer: Buffer) {\n    return await this.fetch(buffer)\n  }\n\n  private async onData(buffer: Buffer) {\n    console.log(buffer)\n  }\n}"],"names":["Tls"],"mappings":";;;;;AAEM,MAAO,WAAY,SAAQA,OAAG,CAAA;AAGlC,IAAA,WAAA,CACW,IAAiB,EAAA;AAE1B,QAAA,KAAK,EAAE,CAAA;QAFE,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAa;QAHnB,IAAK,CAAA,KAAA,GAAG,WAAW,CAAA;KAM3B;AAEa,IAAA,KAAK,CAAC,IAAa,EAAA;;AAC/B,YAAA,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;AAC5D,YAAA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC,CAAA;SAClD,CAAA,CAAA;AAAA,KAAA;AAEe,IAAA,OAAO,CAAC,MAAc,EAAA;;AACpC,YAAA,OAAO,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;SAChC,CAAA,CAAA;AAAA,KAAA;AAEa,IAAA,MAAM,CAAC,MAAc,EAAA;;AACjC,YAAA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;SACpB,CAAA,CAAA;AAAA,KAAA;AACF;;;;"}